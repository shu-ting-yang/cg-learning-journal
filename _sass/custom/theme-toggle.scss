
@import "minimal-mistakes/skins/default";
@import "minimal-mistakes"; // Main theme styles

/* Theme Variables */
:root {
  /* Light mode (default) */
  --background-color: #dfded9;
  --text-color: #333333;
  --link-color: #3f6b4e;
  --link-hover-color: #4d8b5e;
  --border-color: #dfded9;
  --code-background: #ece9e1;
  --masthead-background: #dfded9;
  --sidebar-background: #dfded9;
  --footer-background: #f8f9fa;
  
  /* Inline code color */
  --inline-code-color: #5b9567;
  --inline-code-bg: #e9e9e9;
  
  /* Syntax highlighting colors */

  --code-text-color:        #676767; // default text                        // default neutral
  --code-keyword:           #4e73c2;  // if, else, return, etc.             // softened blue
  --code-string:            #aa4a44;  // "string literals"                  // gentle red-brown
  --code-comment:           #999999;  // // comments                        // muted gray
  --code-number:            #3a8f7b;  // 123, 0xFF                          // soft green-blue
  --code-function:          #6a4fbf;  // function names                     // violet-indigo
  --code-type:              #3182a4;  // types like `int`, `float`, `String`// muted teal-blue
  --code-variable:          #204060;  // variables (non-highlighted)        // dark desaturated blue
  --code-operator:          #5e5e5e;  // +, -, =, etc.                      // dark gray
  --code-punctuation:       #444444;  // (), {}, ;                          // steady neutral

  --code-weight:             600;       // default font weight for code
}

[data-theme="dark"] {
  /* Dark mode overrides */
  --background-color: #1e1e1d;
  --text-color: #b8b8b8;
  --link-color: #4e8d84;
  --link-hover-color: #90c2b6;
  --border-color: #1e1e1d;
  --code-background: #2a2a2a;
  --masthead-background: #1e1e1d;
  --sidebar-background: #1e1e1d;
  --footer-background: #252525;
  
  /* Inline code color for dark mode */
  --inline-code-color: #70d0c6;
  --inline-code-bg: #474646;
  
  /* Dark mode syntax colors */
  --code-text-color:        #dcdcdc;  // neutral light gray
  --code-keyword:           #82aaff;  // soft steel blue
  --code-string:            #ecc48d;  // muted caramel
  --code-comment:           #7f848e;  // dim cool gray
  --code-number:            #addb67;  // mild green
  --code-function:          #c792ea;  // dusty violet
  --code-type:              #6796e6;  // desaturated blue
  --code-variable:          #c5e4fd;  // very soft light cyan
  --code-operator:          #e5e5e5;  // balanced white
  --code-punctuation:       #bbbbbb;  // slightly dull white
  --code-weight:             500;       // default font weight for code
}

/* Global Background and Text */
body {
  background-color: var(--background-color) !important;
  color: var(--text-color) !important;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Main content areas */
.page,
.archive,
.layout--single .page__inner-wrap,
.layout--archive .archive__wrap {
  background-color: var(--background-color) !important;
  color: var(--text-color) !important;
}

/* Links */
a {
  color: var(--link-color) !important;
  
  &:hover,
  &:focus {
    color: var(--link-hover-color) !important;
  }
}

/* Headings */
h1, h2, h3, h4, h5, h6,
.page__title,
.archive__item-title {
  color: var(--text-color) !important;
}

.masthead,
.masthead__title,
.greedy-nav {
  background-color: var(--masthead-background) !important;
  color: var(--text-color) !important;
  border-bottom: 1px solid var(--border-color) !important;
  transition: background-color 0.3s ease;
  
  .site-title,
  .greedy-nav a {
    color: var(--text-color) !important;
    
    &:hover {
      color: var(--link-color) !important;
    }
  }
}

.greedy-nav {
  background: var(--background-color) !important;
  
  .visible-links a {
    color: var(--text-color) !important;
    
    &:hover {
      color: var(--link-color) !important;
    }
  }
  
  .hidden-links {
    background: var(--background-color) !important;
    border: 1px solid var(--border-color) !important;
    
    a {
      color: var(--text-color) !important;
      
      &:hover {
        background: var(--background-color) !important;
        color: var(--link-color) !important;
      }
    }
  }
}

.sidebar {
  background-color: var(--sidebar-background) !important;
  color: var(--text-color) !important;
  border-right: 1px solid var(--border-color) !important;
  
  .author__avatar img {
    border: 2px solid var(--border-color) !important;
  }
  
  .author__name {
    color: var(--text-color) !important;
  }
  
  .author__bio {
    color: var(--text-color) !important;
  }
  
  .author__urls {
    a {
      color: var(--link-color) !important;
      
      &:hover {
        color: var(--link-hover-color) !important;
      }
    }
    
    // Social icons - make them more visible 
    .social-icons a,
    a[href*="linkedin"],
    a[href*="github"],
    a[href*="email"],
    a[href*="mailto"] {
      color: var(--text-color) !important;
      
      &:hover {
        color: var(--link-color) !important;
      }
      
      // Font Awesome icons 
      i, .fas, .fab, .far {
        color: var(--text-color) !important;
      }
      
      &:hover i,
      &:hover .fas,
      &:hover .fab,
      &:hover .far {
        color: var(--link-color) !important;
      }
    }
  }
}


.page__footer {
  background-color: var(--footer-background) !important;
  border-top: 1px solid var(--border-color) !important;
  color: var(--text-color) !important;
  
  a {
    color: var(--link-color) !important;
    
    &:hover {
      color: var(--link-hover-color) !important;
    }
  }
}

.page__footer-copyright {
  color: var(--text-color) !important;
}

.archive__item-title,
.site-title,
.page__title {
  color: var(--text-color) !important;
}

/* Inline code - using custom color variables */
code {
  background-color: var(--inline-code-bg) !important;
  color: var(--inline-code-color) !important;
  border: 1px solid var(--border-color) !important;
  padding: 0.1em 0.3em;
  border-radius: 3px;
  font-size: 0.9em;
  font-weight: var(--code-weight) !important;
}

/* Code blocks */
pre {
  background-color: var(--code-background) !important;
  color: var(--code-text-color) !important;
  border: 1px solid var(--border-color) !important;
  border-radius: 4px;
  padding: 1em;
  overflow-x: auto;
  
  code {
    background-color: transparent !important;
    border: none !important;
    padding: 0;
    color: var(--code-text-color) !important;
  }
}

.highlight {
  background-color: var(--code-background) !important;
  border-radius: 4px;
  
  pre {
    background-color: transparent !important;
    border: none !important;
    margin: 0;
  }
}

/* Syntax highlighting classes */
.highlight {
  /* Keywords (class, public, private, void, int, etc.) */
  .k, .kc, .kd, .kn, .kp, .kr, .kt, .kv {
    color: var(--code-keyword) !important;
    font-weight: bold;
  }
  
  /* Strings */
  .s, .sb, .sc, .sd, .s2, .se, .sh, .si, .sx, .sr, .s1, .ss {
    color: var(--code-string) !important;
  }
  
  /* Comments */
  .c, .cm, .cp, .c1, .cs {
    color: var(--code-comment) !important;
    font-style: italic;
  }
  
  /* Numbers */
  .m, .mf, .mh, .mi, .mo, .il {
    color: var(--code-number) !important;
  }
  
  /* Function names */
  .n, .na, .nb, .nc, .no, .nd, .ni, .ne, .nf, .nl, .nn, .nt, .nv, .nx, .py {
    color: var(--code-text-color) !important;
  }
  
  /* Function definitions */
  .nf {
    color: var(--code-function) !important;
    font-weight: bold;
  }
  
  /* Types and classes */
  .nc, .nt {
    color: var(--code-type) !important;
    font-weight: bold;
  }
  
  /* Variables */
  .nv, .vi, .vg {
    color: var(--code-variable) !important;
  }
  
  /* Operators */
  .o, .ow {
    color: var(--code-operator) !important;
  }
  
  /* Punctuation (brackets, semicolons, etc.) */
  .p {
    color: var(--code-punctuation) !important;
  }
  
  /* Preprocessor directives (#include, #define) */
  .cp {
    color: var(--code-keyword) !important;
    font-weight: bold;
  }
  
  /* Line numbers (if enabled) */
  .lineno {
    color: var(--code-comment) !important;
    background-color: transparent !important;
    border-right: 1px solid var(--border-color) !important;
    padding-right: 0.5em;
    margin-right: 0.5em;
  }
  
  /* Error highlighting */
  .err {
    color: #ff6b6b !important;
    background-color: transparent !important;
  }
  
  /* Generic tokens */
  .g, .gd, .ge, .gr, .gh, .gi, .go, .gp, .gs, .gu, .gt {
    color: var(--code-text-color) !important;
  }
  
  /* Whitespace */
  .w {
    color: transparent !important;
  }
}

/* Rouge specific classes for C++ */
.language-cpp, .language-c, .language-cxx {
  .highlight {
    .kt { /* Built-in types like int, float, char, etc. */
      color: var(--code-type) !important;
      font-weight: bold;
    }
    
    .n { /* General names/identifiers */
      color: var(--code-text-color) !important;
    }
    
    .nf { /* Function calls and definitions */
      color: var(--code-function) !important;
    }
    
    .nn { /* Namespaces like std:: */
      color: var(--code-type) !important;
    }
    
    .p { /* Punctuation */
      color: var(--code-punctuation) !important;
    }
  }
}

/* Fallback for any remaining syntax elements */
.highlight * {
  background-color: transparent !important;
}

/* Code block container */
.code-container,
figure.highlight {
  background-color: var(--code-background) !important;
  border: 1px solid var(--border-color) !important;
  border-radius: 4px;
  margin: 1em 0;
}

/* Tables - make vertical lines same color as background */
table {
  background-color: var(--background-color) !important;
  border-collapse: collapse;
  
  th {
    background-color: var(--sidebar-background) !important;
    color: var(--text-color) !important;
    border: 1px solid var(--background-color) !important;
    border-top: 1px solid var(--border-color) !important;
    border-bottom: 1px solid var(--border-color) !important;
  }
  
  td {
    background-color: var(--background-color) !important;
    color: var(--text-color) !important;
    border: 1px solid var(--background-color) !important;
    border-top: 1px solid var(--border-color) !important;
    border-bottom: 1px solid var(--border-color) !important;
  }
  
  /* Only show horizontal borders */
  tr {
    border-bottom: 1px solid var(--border-color) !important;
  }
  
  /* Remove vertical borders completely */
  th:not(:last-child),
  td:not(:last-child) {
    border-right: none !important;
  }
}

/* Archive items */
.archive__item {
  background-color: var(--background-color) !important;
  
  .archive__item-title a {
    color: var(--text-color) !important;
    
    &:hover {
      color: var(--link-color) !important;
    }
  }
}

.list__item {
  background-color: var(--background-color) !important;
  color: var(--text-color) !important;
}

/* Page meta information */
.page__meta {
  color: var(--text-color) !important;
  opacity: 0.7;
  
  a {
    color: var(--link-color) !important;
  }
}

/* Buttons */
.btn {
  background-color: var(--link-color) !important;
  color: var(--background-color) !important;
  border-color: var(--link-color) !important;
  
  &:hover {
    background-color: var(--link-hover-color) !important;
    border-color: var(--link-hover-color) !important;
  }
}

/* Additional social icon improvements */
.author__urls-wrapper {
  .author__urls {
    /* Social media icons - improve visibility */
    a {
      display: inline-flex;
      align-items: center;
      padding: 0.25rem 0;
      
      /* Make sure all icons are visible */
      i[class*="fa-"],
      .svg-inline--fa {
        color: var(--text-color) !important;
        opacity: 0.8;
        margin-right: 0.5rem;
        width: 1.2em;
        
        &:hover {
          opacity: 1;
          color: var(--link-color) !important;
        }
      }
    }
    
    /* Specific social platform styling */
    a[href*="linkedin"] i,
    a[href*="github"] i,
    a[href*="email"] i,
    a[href*="mailto"] i {
      color: var(--text-color) !important;
      font-size: 1.1em;
    }
  }
}

[data-theme="dark"] {
  /* In dark mode, make icons even more visible */
  .author__urls a i[class*="fa-"],
  .author__urls a .svg-inline--fa {
    color: #e0e0e0 !important;
    opacity: 0.9;
    
    &:hover {
      color: var(--link-color) !important;
      opacity: 1;
    }
  }
  // Drop down menu for author URLs
  .author__urls {
    background-color: var(--background-color) !important;
    border: 1px solid var(--border-color) !important;

    &::after,
    &::before {
      border-color: var(--background-color) transparent !important;
    }

    li {
      color: var(--text-color) !important;
    }

    a {
      color: var(--link-color) !important;

      &:hover {
        color: var(--link-hover-color) !important;
      }
    }

    i {
      color: var(--text-color) !important;
    }
  }
}

// === Theme toggle button (optional polish) ===
#theme-toggle {
  background: none;
  border: none;
  font-size: 1.2em;
  cursor: pointer;
  padding: 0.5em;
  border-radius: 50%;
  transition: background-color 0.3s ease;
  &:hover {
    background-color: rgba(0, 0, 0, 0.1);
  }
}

[data-theme="dark"] #theme-toggle:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

.sidebar .author__urls li {
  // shared layout
  display: flex;
  align-items: center;
  gap: 0.80rem;
  font-size: 0.875rem;
  margin-bottom: 0.65rem;

  i {
    flex-shrink: 0;
    width: 1.25rem;
    font-size: 1.00rem;
    text-align: center;
    color: var(--text-color);
  }
}

/* Aggressively fixing the indentation*/
.highlight pre code {
  white-space: pre-wrap;
  display: block;
  padding: 0;
  margin: 0;
  background: transparent;
  border: none;
  text-indent: 0;
  line-height: inherit;
}

/* ensure consistent formatting: */
.highlight pre {
  white-space: pre-wrap;
  word-wrap: break-word;
  overflow-wrap: break-word;
}