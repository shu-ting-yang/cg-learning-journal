/* Theme Variables */
:root {
  /* Light mode (default) */
  --background-color: #ffffff;
  --text-color: #333333;
  --link-color: #1976d2;
  --link-hover-color: #115293;
  --border-color: #e3e3e3;
  --code-background: #f8f8f8;
  --masthead-background: #ffffff;
  --sidebar-background: #f8f9fa;
  --footer-background: #f8f9fa;
  
  /* Inline code color - CHANGE THIS to experiment with different colors */
  --inline-code-color: #d63384; /* Pink color - try #007acc (blue), #28a745 (green), #6f42c1 (purple) */
  --inline-code-bg: #f8f9fa;
}

[data-theme="dark"] {
  /* Dark mode overrides */
  --background-color: #1a1a1a;
  --text-color: #b6b6b6;
  --link-color: #64b5f6;
  --link-hover-color: #90caf9;
  --border-color: #252525;
  --code-background: #2d2d2d;
  --masthead-background: #222222;
  --sidebar-background: #252525;
  --footer-background: #252525;
  
  /* Inline code color for dark mode - CHANGE THIS too */
  --inline-code-color: #ff6b9d; /* Light pink - try #79c0ff (light blue), #56d364 (light green), #d2a8ff (light purple) */
  --inline-code-bg: #2d2d2d;
}

/* Global Background and Text */
body {
  background-color: var(--background-color) !important;
  color: var(--text-color) !important;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Main content areas */
.page,
.archive,
.layout--single .page__inner-wrap,
.layout--archive .archive__wrap {
  background-color: var(--background-color) !important;
  color: var(--text-color) !important;
}

/* Links */
a {
  color: var(--link-color) !important;
  
  &:hover,
  &:focus {
    color: var(--link-hover-color) !important;
  }
}

/* Headings */
h1, h2, h3, h4, h5, h6,
.page__title,
.archive__item-title {
  color: var(--text-color) !important;
}

/* Masthead (top navigation) - match background with main page and make sticky */
.masthead {
  background-color: var(--background-color) !important;
  border-bottom: 1px solid var(--border-color) !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  z-index: 1000 !important;
  transition: background-color 0.3s ease;
  
  .site-title,
  .greedy-nav a {
    color: var(--text-color) !important;
    
    &:hover {
      color: var(--link-color) !important;
    }
  }
}

/* Add padding to body to account for fixed header */
body {
  padding-top: 60px !important; /* Adjust this value based on your masthead height */
}

.greedy-nav {
  background: var(--background-color) !important;
  
  .visible-links a {
    color: var(--text-color) !important;
    
    &:hover {
      color: var(--link-color) !important;
    }
  }
  
  .hidden-links {
    background: var(--background-color) !important;
    border: 1px solid var(--border-color) !important;
    
    a {
      color: var(--text-color) !important;
      
      &:hover {
        background: var(--background-color) !important;
        color: var(--link-color) !important;
      }
    }
  }
}

/* Sidebar - match background color with main page */
.sidebar {
  background-color: var(--background-color) !important;
  border-right: 1px solid var(--border-color) !important;
  
  .author__avatar img {
    border: 2px solid var(--border-color) !important;
  }
  
  .author__name {
    color: var(--text-color) !important;
  }
  
  .author__bio {
    color: var(--text-color) !important;
  }
  
  .author__urls {
    a {
      color: var(--link-color) !important;
      
      &:hover {
        color: var(--link-hover-color) !important;
      }
    }
    
    /* Social icons - make them more visible in dark mode */
    .social-icons a,
    a[href*="linkedin"],
    a[href*="github"],
    a[href*="email"],
    a[href*="mailto"] {
      color: var(--text-color) !important;
      
      &:hover {
        color: var(--link-color) !important;
      }
      
      /* Font Awesome icons */
      i, .fas, .fab, .far {
        color: var(--text-color) !important;
      }
      
      &:hover i,
      &:hover .fas,
      &:hover .fab,
      &:hover .far {
        color: var(--link-color) !important;
      }
    }
  }
}

/* Footer */
.page__footer {
  background-color: var(--footer-background) !important;
  border-top: 1px solid var(--border-color) !important;
  color: var(--text-color) !important;
  
  a {
    color: var(--link-color) !important;
    
    &:hover {
      color: var(--link-hover-color) !important;
    }
  }
}

.page__footer-copyright {
  color: var(--text-color) !important;
}

/* Code blocks and syntax highlighting */
:root {
  /* Light mode syntax colors */
  --code-keyword: #d73a49;        /* Keywords (void, const, etc.) */
  --code-string: #032f62;         /* Strings */
  --code-comment: #6a737d;        /* Comments */
  --code-number: #005cc5;         /* Numbers */
  --code-function: #6f42c1;       /* Function names */
  --code-type: #d73a49;           /* Types (int, float, etc.) */
  --code-variable: #e36209;       /* Variables */
  --code-operator: #d73a49;       /* Operators */
  --code-punctuation: #24292e;    /* Brackets, semicolons */
}

[data-theme="dark"] {
  /* Dark mode syntax colors */
  --code-keyword: #ff7b72;        /* Keywords */
  --code-string: #a5d6ff;         /* Strings */
  --code-comment: #8b949e;        /* Comments */
  --code-number: #79c0ff;         /* Numbers */
  --code-function: #d2a8ff;       /* Function names */
  --code-type: #ff7b72;           /* Types */
  --code-variable: #ffa657;       /* Variables */
  --code-operator: #ff7b72;       /* Operators */
  --code-punctuation: #e6edf3;    /* Brackets, semicolons */
}

/* Inline code - using custom color variables */
code {
  background-color: var(--inline-code-bg) !important;
  color: var(--inline-code-color) !important;
  border: 1px solid var(--border-color) !important;
  padding: 0.1em 0.3em;
  border-radius: 3px;
  font-size: 0.9em;
  font-weight: 600; /* Make it slightly bolder */
}

/* Code blocks */
pre {
  background-color: var(--code-background) !important;
  color: var(--text-color) !important;
  border: 1px solid var(--border-color) !important;
  border-radius: 4px;
  padding: 1em;
  overflow-x: auto;
  
  code {
    background-color: transparent !important;
    border: none !important;
    padding: 0;
    color: var(--text-color) !important;
  }
}

.highlight {
  background-color: var(--code-background) !important;
  border-radius: 4px;
  
  pre {
    background-color: transparent !important;
    border: none !important;
    margin: 0;
  }
}

/* Syntax highlighting classes */
.highlight {
  /* Keywords (class, public, private, void, int, etc.) */
  .k, .kc, .kd, .kn, .kp, .kr, .kt, .kv {
    color: var(--code-keyword) !important;
    font-weight: bold;
  }
  
  /* Strings */
  .s, .sb, .sc, .sd, .s2, .se, .sh, .si, .sx, .sr, .s1, .ss {
    color: var(--code-string) !important;
  }
  
  /* Comments */
  .c, .cm, .cp, .c1, .cs {
    color: var(--code-comment) !important;
    font-style: italic;
  }
  
  /* Numbers */
  .m, .mf, .mh, .mi, .mo, .il {
    color: var(--code-number) !important;
  }
  
  /* Function names */
  .n, .na, .nb, .nc, .no, .nd, .ni, .ne, .nf, .nl, .nn, .nt, .nv, .nx, .py {
    color: var(--text-color) !important;
  }
  
  /* Function definitions */
  .nf {
    color: var(--code-function) !important;
    font-weight: bold;
  }
  
  /* Types and classes */
  .nc, .nt {
    color: var(--code-type) !important;
    font-weight: bold;
  }
  
  /* Variables */
  .nv, .vi, .vg {
    color: var(--code-variable) !important;
  }
  
  /* Operators */
  .o, .ow {
    color: var(--code-operator) !important;
  }
  
  /* Punctuation (brackets, semicolons, etc.) */
  .p {
    color: var(--code-punctuation) !important;
  }
  
  /* Preprocessor directives (#include, #define) */
  .cp {
    color: var(--code-keyword) !important;
    font-weight: bold;
  }
  
  /* Line numbers (if enabled) */
  .lineno {
    color: var(--code-comment) !important;
    background-color: transparent !important;
    border-right: 1px solid var(--border-color) !important;
    padding-right: 0.5em;
    margin-right: 0.5em;
  }
  
  /* Error highlighting */
  .err {
    color: #ff6b6b !important;
    background-color: transparent !important;
  }
  
  /* Generic tokens */
  .g, .gd, .ge, .gr, .gh, .gi, .go, .gp, .gs, .gu, .gt {
    color: var(--text-color) !important;
  }
  
  /* Whitespace */
  .w {
    color: transparent !important;
  }
}

/* Rouge specific classes for C++ */
.language-cpp, .language-c, .language-cxx {
  .highlight {
    .kt { /* Built-in types like int, float, char, etc. */
      color: var(--code-type) !important;
      font-weight: bold;
    }
    
    .n { /* General names/identifiers */
      color: var(--text-color) !important;
    }
    
    .nf { /* Function calls and definitions */
      color: var(--code-function) !important;
    }
    
    .nn { /* Namespaces like std:: */
      color: var(--code-type) !important;
    }
    
    .p { /* Punctuation */
      color: var(--code-punctuation) !important;
    }
  }
}

/* Fallback for any remaining syntax elements */
.highlight * {
  background-color: transparent !important;
}

/* Code block container */
.code-container,
figure.highlight {
  background-color: var(--code-background) !important;
  border: 1px solid var(--border-color) !important;
  border-radius: 4px;
  margin: 1em 0;
}

/* Tables - make vertical lines same color as background */
table {
  background-color: var(--background-color) !important;
  border-collapse: collapse;
  
  th {
    background-color: var(--sidebar-background) !important;
    color: var(--text-color) !important;
    border: 1px solid var(--background-color) !important; /* Vertical lines match background */
    border-top: 1px solid var(--border-color) !important;
    border-bottom: 1px solid var(--border-color) !important;
  }
  
  td {
    background-color: var(--background-color) !important;
    color: var(--text-color) !important;
    border: 1px solid var(--background-color) !important; /* Vertical lines match background */
    border-top: 1px solid var(--border-color) !important;
    border-bottom: 1px solid var(--border-color) !important;
  }
  
  /* Only show horizontal borders */
  tr {
    border-bottom: 1px solid var(--border-color) !important;
  }
  
  /* Remove vertical borders completely */
  th:not(:last-child),
  td:not(:last-child) {
    border-right: none !important;
  }
}

/* Archive items */
.archive__item {
  background-color: var(--background-color) !important;
  
  .archive__item-title a {
    color: var(--text-color) !important;
    
    &:hover {
      color: var(--link-color) !important;
    }
  }
}

.list__item {
  background-color: var(--background-color) !important;
  color: var(--text-color) !important;
}

/* Page meta information */
.page__meta {
  color: var(--text-color) !important;
  opacity: 0.7;
  
  a {
    color: var(--link-color) !important;
  }
}

/* Buttons */
.btn {
  background-color: var(--link-color) !important;
  color: var(--background-color) !important;
  border-color: var(--link-color) !important;
  
  &:hover {
    background-color: var(--link-hover-color) !important;
    border-color: var(--link-hover-color) !important;
  }
}

/* Ensure theme toggle appears in masthead and adjust for fixed header */
.masthead {
  position: relative;
}

/* Adjust theme toggle for fixed header */
#theme-toggle {
  position: absolute;
  top: 0.5rem;
  right: 1rem;
  background: transparent;
  border: 2px solid var(--border-color);
  border-radius: 50%;
  width: 40px;
  height: 40px;
  font-size: 1.2rem;
  cursor: pointer;
  color: var(--text-color);
  transition: all 0.3s ease;
  z-index: 1001;
  
  &:hover {
    background-color: var(--sidebar-background);
    transform: scale(1.1);
  }
}

/* Additional social icon improvements */
.author__urls-wrapper {
  .author__urls {
    /* Social media icons - improve visibility */
    a {
      display: inline-flex;
      align-items: center;
      padding: 0.25rem 0;
      
      /* Make sure all icons are visible */
      i[class*="fa-"],
      .svg-inline--fa {
        color: var(--text-color) !important;
        opacity: 0.8;
        margin-right: 0.5rem;
        width: 1.2em;
        
        &:hover {
          opacity: 1;
          color: var(--link-color) !important;
        }
      }
    }
    
    /* Specific social platform styling */
    a[href*="linkedin"] i,
    a[href*="github"] i,
    a[href*="email"] i,
    a[href*="mailto"] i {
      color: var(--text-color) !important;
      font-size: 1.1em;
    }
  }
}

[data-theme="dark"] {
  /* In dark mode, make icons even more visible */
  .author__urls a i[class*="fa-"],
  .author__urls a .svg-inline--fa {
    color: #e0e0e0 !important;
    opacity: 0.9;
    
    &:hover {
      color: var(--link-color) !important;
      opacity: 1;
    }
  }
}

/* Page content adjustment for fixed header */
.page__inner-wrap,
.archive__wrap {
  margin-top: 1rem;
}

/* Footer adjustment */
.page__footer {
  background-color: var(--background-color) !important;
  border-top: 1px solid var(--border-color) !important;
  color: var(--text-color) !important;
  
  a {
    color: var(--link-color) !important;
    
    &:hover {
      color: var(--link-hover-color) !important;
    }
  }
}